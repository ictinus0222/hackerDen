/**
 * Mobile Optimization Styles for HackerDen Enhancement Features
 * Ensures consistent touch-friendly interactions and mobile-first design
 */

/* Touch Manipulation and Accessibility */
.touch-optimized {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  min-height: 44px;
  min-width: 44px;
}

/* iOS Zoom Prevention */
.ios-zoom-fix {
  font-size: 16px !important;
  transform-origin: left top;
}

/* Mobile-friendly button sizing */
.mobile-button {
  @apply min-h-[44px] min-w-[44px] touch-manipulation;
}

.mobile-button-large {
  @apply min-h-[48px] touch-manipulation;
}

/* Enhanced touch feedback */
.touch-feedback {
  @apply active:scale-95 transition-transform duration-150;
}

/* Mobile-optimized form elements */
.mobile-input {
  @apply min-h-[44px] touch-manipulation;
  font-size: 16px; /* Prevent iOS zoom */
}

.mobile-textarea {
  @apply touch-manipulation;
  font-size: 16px; /* Prevent iOS zoom */
}

.mobile-select {
  @apply min-h-[44px] touch-manipulation;
}

/* Mobile-specific spacing */
.mobile-spacing {
  @apply space-y-4 sm:space-y-6;
}

.mobile-padding {
  @apply p-4 sm:p-6;
}

.mobile-margin {
  @apply m-4 sm:m-6;
}

/* Mobile grid optimizations */
.mobile-grid {
  @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
}

.mobile-grid-dense {
  @apply grid-cols-2 sm:grid-cols-4 lg:grid-cols-6;
}

/* Mobile-friendly card layouts */
.mobile-card {
  @apply touch-manipulation select-none;
}

/* Swipe gesture indicators */
.swipe-indicator {
  position: relative;
}

.swipe-indicator::after {
  content: '';
  position: absolute;
  top: 50%;
  right: 8px;
  transform: translateY(-50%);
  width: 4px;
  height: 20px;
  background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.3), transparent);
  border-radius: 2px;
}

/* Mobile modal optimizations */
.mobile-modal {
  @apply max-h-[90vh] overflow-y-auto;
}

.mobile-modal-content {
  @apply p-4 sm:p-6;
}

/* Mobile-optimized tabs */
.mobile-tabs {
  @apply min-h-[44px] touch-manipulation;
}

/* Long press feedback */
.long-press-target {
  @apply touch-manipulation;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

.long-press-active {
  @apply bg-muted/50 scale-95;
  transition: all 0.15s ease-out;
}

/* Mobile-specific animations */
@media (prefers-reduced-motion: no-preference) {
  .mobile-celebration {
    animation: mobile-bounce 0.6s ease-out;
  }
  
  @keyframes mobile-bounce {
    0%, 20%, 53%, 80%, 100% {
      transform: translate3d(0, 0, 0);
    }
    40%, 43% {
      transform: translate3d(0, -8px, 0);
    }
    70% {
      transform: translate3d(0, -4px, 0);
    }
    90% {
      transform: translate3d(0, -2px, 0);
    }
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .mobile-celebration,
  .touch-feedback,
  .long-press-active {
    animation: none !important;
    transition: none !important;
    transform: none !important;
  }
}

/* Mobile-specific focus styles */
.mobile-focus:focus-visible {
  @apply outline-2 outline-offset-2 outline-primary;
}

/* Mobile-optimized scrolling */
.mobile-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Mobile-friendly emoji picker */
.mobile-emoji-grid {
  @apply grid-cols-6 sm:grid-cols-8 gap-2;
}

.mobile-emoji-button {
  @apply h-10 w-10 min-h-[44px] min-w-[44px] touch-manipulation active:scale-95;
}

/* Mobile poll options */
.mobile-poll-option {
  @apply min-h-[44px] touch-manipulation py-2;
}

.mobile-poll-option label {
  @apply text-base cursor-pointer;
}

/* Mobile file upload */
.mobile-file-upload {
  @apply touch-manipulation;
}

.mobile-file-upload-button {
  @apply min-h-[44px] touch-manipulation;
}

/* Mobile idea card optimizations */
.mobile-idea-card {
  @apply touch-manipulation select-none;
}

.mobile-vote-button {
  @apply min-h-[44px] min-w-[60px] touch-manipulation active:scale-95;
}

/* Mobile submission form */
.mobile-submission-form input,
.mobile-submission-form textarea,
.mobile-submission-form select {
  font-size: 16px !important; /* Prevent iOS zoom */
  @apply touch-manipulation;
}

.mobile-submission-form input {
  @apply min-h-[44px];
}

.mobile-submission-form button {
  @apply min-h-[48px] touch-manipulation;
}

/* Mobile-specific utility classes */
.mobile-only {
  @apply block sm:hidden;
}

.desktop-only {
  @apply hidden sm:block;
}

.mobile-full-width {
  @apply w-full sm:w-auto;
}

.mobile-text-base {
  @apply text-base;
}

/* Safe area handling for mobile devices */
.mobile-safe-area {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Mobile-optimized confetti effects */
@media (max-width: 768px) {
  .confetti-particle {
    width: 6px;
    height: 6px;
  }
}

/* Mobile performance optimizations */
.mobile-performance {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Mobile-specific hover states (touch devices) */
@media (hover: none) and (pointer: coarse) {
  .mobile-hover-none:hover {
    background-color: inherit;
    color: inherit;
  }
}